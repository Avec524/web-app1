<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Копирайтинг через Нейросеть | WebAppEmotion</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
  <div class="container">
    <h1>Ваш личный нейрокопирайтер</h1>
    <p>Введите тему или задание, и получите готовый текст от нейросети!</p>
  </div>
</header>

<main>
  <div class="app-container">
    <textarea id="userPrompt" placeholder="Введите тему или задание..." rows="5"></textarea>
    <button id="generateBtn">Сгенерировать текст</button>
    <div id="result" class="result-box"></div>
  </div>
</main>

<footer>
  <div class="container">
    <p>© 2025 WebAppEmotion. Все права защищены.</p>
  </div>
</footer>

<script>
const generateBtn = document.getElementById('generateBtn');
const userPrompt = document.getElementById('userPrompt');
const resultBox = document.getElementById('result');

generateBtn.addEventListener('click', async () => {
  const promptText = userPrompt.value.trim();
  if (!promptText) {
    resultBox.innerHTML = '<p style="color: red;">Пожалуйста, введите задание для генерации!</p>';
    return;
  }

  resultBox.innerHTML = '<p>Генерация текста...</p>';

  try {
    const response = await fetch('https://api.mistral.ai/v1/chat/completions', {
      method: 'POST',
      headers: {
        'Authorization': 'Bearer ВАШ_API_КЛЮЧ_ОТ_MISTRAI', 
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        model: "mistral-tiny",
        messages: [
          { "role": "user", "content": promptText }
        ],
        temperature: 0.7,
        max_tokens: 500
      })
    });

    const data = await response.json();
    if (data.choices && data.choices.length > 0) {
      resultBox.innerHTML = `<p>${data.choices[0].message.content}</p>`;
    } else {
      resultBox.innerHTML = '<p>Не удалось сгенерировать текст. Попробуйте позже.</p>';
    }

  } catch (error) {
    console.error(error);
    resultBox.innerHTML = '<p>Произошла ошибка при генерации текста.</p>';
  }
});
</script>

</body>
</html>
